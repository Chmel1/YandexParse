# Yandex Reviews Manager

–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –æ—Ç–∑—ã–≤–æ–≤ –∏–∑ –Ø–Ω–¥–µ–∫—Å –ö–∞—Ä—Ç. –°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è, –ø—Ä–∏–≤—è–∑—ã–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ —Å–≤–æ—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞—Ç—å –æ—Ç–∑—ã–≤—ã –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
* **–ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥**: –ì–ª—É–±–æ–∫–∏–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö (—Ç–µ–∫—Å—Ç, —Ä–µ–π—Ç–∏–Ω–≥, –∞–≤—Ç–æ—Ä, –¥–∞—Ç–∞) —Å –ø–æ–º–æ—â—å—é `Browsershot` –∏ `Puppeteer`.
* **–ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**: –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç–∑—ã–≤—ã —Å–≤–æ–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (`user_id` binding).
* **–§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏**: –ü–∞—Ä—Å–∏–Ω–≥ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–ª–∞–≥–æ–¥–∞—Ä—è –æ—á–µ—Ä–µ–¥—è–º Laravel (`Jobs` & `Queues`).
* **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –ü–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ Vue 3 –∏ Inertia.js.
* **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—É–Ω–Ω–µ–ª–µ–π**: –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ Pinggy/Ngrok (–æ–±—Ä–∞–±–æ—Ç–∫–∞ Mixed Content).

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
* **Backend**: Laravel 11, PHP 8.2+
* **Frontend**: Vue 3 (Composition API), Inertia.js, Tailwind CSS
* **Database**: PostgreSQL
* **Scraping**: Spatie Browsershot (Puppeteer) + Brave Browser
* **Environment**: Vite, Composer, NPM

---

##  –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
git clone [https://github.com/your-username/yandex-reviews-manager.git](https://github.com/your-username/yandex-reviews-manager.git)
cd yandex-reviews-manager
composer install
npm install
```
2. –û–∫—Ä—É–∂–µ–Ω–∏–µ (.env)
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –Ω–∞ –æ—Å–Ω–æ–≤–µ .env.example –∏ —É–∫–∞–∂–∏—Ç–µ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ –ë–î –∏ –ø—É—Ç—å –∫ –±—Ä–∞—É–∑–µ—Ä—É:

```
APP_URL=[https://your-tunnel-url.link](https://your-tunnel-url.link)
DB_CONNECTION=pgsql
DB_HOST=127.0.0.1
DB_PORT=5432
DB_DATABASE=yandex_review
DB_USERNAME=postgres
DB_PASSWORD=your_password
```

### –ü—É—Ç—å –∫ –±—Ä–∞—É–∑–µ—Ä—É –¥–ª—è Browsershot (Windows –ø—Ä–∏–º–µ—Ä)
BRAVE_PATH="C:\Program Files\BraveSoftware\Brave-Browser\Application\brave.exe"

### 3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –∫–ª—é—á–∏
```Bash
php artisan key:generate
php artisan migrate
```
### 4. –°–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
```Bash
npm run build
```
### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
–î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç—Ä–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞:

–õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä:` php artisan serve`

–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—á–µ—Ä–µ–¥–µ–π: `php artisan queue:work (–Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø–∞—Ä—Å–µ—Ä–∞ –≤ —Ñ–æ–Ω–µ).`

–¢—É–Ω–Ω–µ–ª—å (–¥–ª—è —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ HTTPS): `pinggy –∏–ª–∏ ngrok.`

### –ö–æ–º–∞–Ω–¥—ã –ø–∞—Ä—Å–µ—Ä–∞
–í—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –ª—é–±–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```Bash
# –ì–¥–µ 1 ‚Äî —ç—Ç–æ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
php artisan parse:yandex 1
```
### ‚ö†Ô∏è –†–µ—à–µ–Ω–∏–µ —á–∞—Å—Ç—ã—Ö –ø—Ä–æ–±–ª–µ–º (Troubleshooting)
Mixed Content: –ï—Å–ª–∏ —Å—Ç–∏–ª–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —á–µ—Ä–µ–∑ —Ç—É–Ω–Ω–µ–ª—å, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ resources/views/app.blade.php –ø–µ—Ä–≤—ã–º —Ç–µ–≥–æ–º –≤ <head> —Å—Ç–æ–∏—Ç:
<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">

Brave Browser Error: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É—Ç—å –∫ –∏—Å–ø–æ–ª–Ω–∏–º–æ–º—É —Ñ–∞–π–ª—É –±—Ä–∞—É–∑–µ—Ä–∞ –≤ ParseYandexReviews.php —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –≤–∞—à–∏–º —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–º –ø—É—Ç–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫–∏.

–û—à–∏–±–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: –ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É column "user_id" contains null values, –æ—á–∏—Å—Ç–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É –ø–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏–µ–π: php artisan tinker --execute="App\Models\Review::truncate()".

### –õ–∏—Ü–µ–Ω–∑–∏—è
–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª—è—Ö.
